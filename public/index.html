<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- This meta tag ensures that the website renders correctly across different device sizes, enhancing mobile responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link to the external CSS stylesheet. Uncomment if you wish to customize or add styling. -->
    <!-- <link rel="stylesheet" href="styles.css">   -->

    <title>Database Application</title>
</head>
<body>
    <!-- ===================================================================================== -->
    <!-- Display the current status of the database connection. 
         !!HERE TO HELP U DEBUGGING, NOT REQUIRED IN YOUR OWN PROJECT!!
         -->
    <h1>Database Connection Status: 
        <!-- An in-line placeholder to display connection status. -->
        <span id="dbStatus"> </span>
        <!-- A loading GIF, will be hided once get the status. -->
        <img id="loadingGif" class="loading-gif" src="loading_100px.gif" alt="Loading...">
    </h1>

    <br><hr><br> <!-- ========================================================================= -->

    <h2>Reset All Tables</h2>
    <p>If you wish to reset the table press on the reset button. If this is the first time you're running this page, you MUST use reset</p>
    <button id="resetTables"> Reset Tables </button> <br>
    <!-- A placeholder to display messages related to the reset operation. -->
    <div id="resetTablesResultMsg"></div>

    <br><hr><br> <!-- ========================================================================= -->
    <h2> User Centric </h2>
    <h3>Show Users</h3>
    <table id="appUser" border="1">
        <thead>
        <tr>
            <th>Username</th>
            <th>Profile Picture</th>
            <th>Email</th>
            <th>Full Name</th>
            <th>Privacy Level</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h3> Create a New User </h3>
    <form id="insertUserForm">
        Username: <input type="text" id="insertNewUserName" placeholder="Enter Username" required maxlength="50"> (Username can't be changed later.) <br><br>
        Profile Picture: <input type="file" id="insertProfilePicture" accept="image/*" placeholder="Attach Profile Picture"> <br><br>
        Email: <input type="text" id="insertEmail" placeholder="Enter Email" required maxlength="100"> <br><br>
        Full Name: <input type="text" id="insertFullName" placeholder="Enter Full Name" required maxlength="50"> <br><br>
        Privacy Level:
        <select id="insertUserPrivacyLevel">
            <option value="Private">Private</option>
            <option value="Public">Public</option>
            <option value="Friends Only">Friends Only</option>
        </select> <br><br>

        <button type="submit"> Create </button> <br>
    </form>
    <div id="insertUserResultMsg"></div>

    <h3>Update a User Setting except for Username</h3>
    <p> Please fill in only fields you want to update, and note that the values are case sensitive. </p>
    <form id="updateUserForm">
        Username: <input type="text" id="updateUserName" placeholder="Enter Username" required maxlength="50"> <br><br>
        New Profile Picture: <input type="file" id="updateProfilePicture" accept="image/*" placeholder="Attach New Profile Picture"> <br><br>
        New Email: <input type="text" id="updateEmail" placeholder="Enter New Email" required maxlength="100"> <br><br>
        New Full Name: <input type="text" id="updateFullName" placeholder="Enter New Full Name" required maxlength="50"> <br><br>
        New Privacy Level:
        <select id="updateUserPrivacyLevel">
            <option value="Do Not Change">Do Not Change</option>
            <option value="Private">Private</option>
            <option value="Public">Public</option>
            <option value="Friends Only">Friends Only</option>
        </select> <br><br>

        <button type="submit"> Update </button> <br>
    </form>
    <div id="updateUserResultMsg"></div>

    <h3>Delete a User</h3>
    <p>You can't revert this action.</p>
    <form id="deleteUser">
        Username: <input type="text" id="deleteUserName" placeholder="Enter Username" required maxlength="50"> <br><br>

        <button type="submit"> Delete </button> <br>
    </form>
    <div id="deleteUserResultMsg"></div>

    <h3>Public Users</h3>
    <table id="fetchPublicUser" border="1">
        <thead>
        <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Full Name</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h3>Show Users Who Are Friends with Everyone</h3>
    <table id="fetchUsersWhoAreFriendsWithEveryone" border="1">
        <thead>
        <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Full Name</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h3>Insert Friend</h3>
    <form id="insertFriendForm">
        <label for="insertFriendUsername1">Username 1:</label>
        <input type="text" id="insertFriendUsername1" placeholder="Enter First Username" required maxlength="50">
        <br><br>
        <label for="insertFriendUsername2">Username 2:</label>
        <input type="text" id="insertFriendUsername2" placeholder="Enter Second Username" required maxlength="50">
        <br><br>
        <button type="submit">Add Friend</button>
    </form>
    <div id="insertFriendResultMsg"></div>

    <h3>Delete Friend</h3>
    <p>You can't revert this action.</p>
    <form id="deleteFriendForm">
        <label for="deleteFriendUsername1">Username 1:</label>
        <input type="text" id="deleteFriendUsername1" placeholder="Enter First Username" required maxlength="50">
        <br><br>
        <label for="deleteFriendUsername2">Username 2:</label>
        <input type="text" id="deleteFriendUsername2" placeholder="Enter Second Username" required maxlength="50">
        <br><br>
        <button type="submit">Delete Friend</button>
    </form>
    <div id="deleteFriendResultMsg"></div>

    <h3>Check Friendship Status</h3>
    <form id="areTheyFriendsForm">
        <label for="checkFriendsUsername1">Username 1:</label>
        <input type="text" id="checkFriendsUsername1" placeholder="Enter First Username" required maxlength="50">
        <br><br>
        <label for="checkFriendsUsername2">Username 2:</label>
        <input type="text" id="checkFriendsUsername2" placeholder="Enter Second Username" required maxlength="50">
        <br><br>
        <button type="submit">Check Friendship</button>
    </form>
    <div id="checkFriendsResultMsg"></div>

    <h3>Show Notifications for Expiring Ingredients</h3>
    <div>
        Username: <input type="text" id="showUsersNotifications" placeholder="Enter Username" required maxlength="50">
        <button onclick="fetchAndDisplayNotifications()">Show Notifications</button>
    </div>
    <br>
    <h4 id="notificationsUsername" style="display: none;">Notifications for <span id="currentUsername"></span></h4>
    <table id="notificationsList" border="1" style="display: none;">
        <thead>
        <tr>
            <th>Notification ID</th>
            <th>Date and Time Sent</th>
            <th>Expiring Count</th>
            <th>Show Details</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <div id="notificationDetails" style="display: none;">
        <h4>Details for Notification ID: <span id="detailsNotificationID"></span></h4>
        <table border="1">
            <thead>
            <tr>
                <th>List Name</th>
                <th>Ingredient Name</th>
                <th>Amount</th>
                <th>Unit</th>
                <th>Expiry Date</th>
            </tr>
            </thead>
            <tbody id="notificationDetailsBody"></tbody>
        </table>
    </div>


    <br><hr><br> <!-- ========================================================================= -->
    <h2> Recipe Centric </h2>

    <h3>Show Recipes</h3>
    <table id="recipe" border="1">
        <thead>
            <tr>
                <th>Recipe ID</th>
                <th>Recipe Name</th>
                <th>Privacy Level</th>
                <th>Username</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h3> Create a new Recipe </h3>
    <form id="insertRecipe">
        Recipe ID: <input type="number" id="insertRecipeID" placeholder="Enter RecipeID" required> <br><br>
        Recipe Name: <input type="text" id="insertRecipeName" placeholder="Enter Recipe Name" maxlength="50"> <br><br>
        Privacy Level: 
        <select id="insertPrivacyLevel">
            <option value="Private">Private</option>
            <option value="Public">Public</option>
            <option value="Friends Only">Friends Only</option>
        </select> <br><br>

        Username: <input type="text" id="insertUsername" placeholder="Enter User's name" maxlength="50" required> <br><br>

        <button type="submit"> Create </button> <br>
    </form>
    <div id="insertRecipeResultMsg"></div>

    <h3>Update a Recipe's Name and/or PrivacyLevel</h3>
    <p>The values are case sensitive and if you enter in the wrong case, the update statement will not do anything.</p>
    <form id="updateRecipe">
        Recipe ID: <input type="number" id="updateRecipeID" placeholder="Enter RecipeID" required> <br><br>
        New Name: <input type="text" id="updateRecipeName" placeholder="Enter New Recipe Name" maxlength="50"> <br><br>
        New Privacy Level: 
        <select id="updatePrivacyLevel">
            <option value="Do Not Change">Do Not Change</option>
            <option value="Private">Private</option>
            <option value="Public">Public</option>
            <option value="Friends Only">Friends Only</option>
        </select> <br><br>

        <button type="submit"> Update </button> <br>
    </form>
    <div id="updateRecipeResultMsg"></div>

    <h3>Delete a Recipe</h3>
    <form id="deleteRecipe">
        Recipe ID: <input type="number" id="deleteRecipeID" placeholder="Enter RecipeID" required> <br><br>

        <button type="submit"> Delete </button> <br>
    </form>
    <div id="deleteRecipeResultMsg"></div>

    <h3>Ingredients for a Recipe</h3>
    <form id="fetchARecipesIngredients">
        Recipe ID: <input type="number" id="getRecipeIDForItsIngredients" placeholder="Enter RecipeID" required> <br><br>

        <button type="submit"> Get Ingredients </button> <br>
    </form>
    <div id="recipesIngredientsNameMsg"></div>
    <table id="recipesIngredients" border="1">
        <thead>
            <tr>
                <th>Ingredient ID</th>
                <th>Ingredient Name</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h3>Add a Recipe Ingredient</h3>
    <form id="insertRecipeIngredient">
        Recipe Ingredient ID: <input type="number" id="insertRecipeIngredientID" placeholder="Enter Recipe Ingredient ID" required> <br><br>
        Ingredient Name: <input type="text" id="insertRecipeIngredientName" placeholder="Enter New Recipe Ingredient Name" maxlength="50" required> <br><br>
        Recipe ID: <input type="number" id="insertRecipeIngredientsRecipeID" placeholder="Enter Recipe ID" required> <br><br>
        Amount: <input type="number" id="insertRecipeIngredientAmount" placeholder="Enter Recipe Ingredient Amount" required> <br><br>
        Unit of Measurement: 
        <select id="insertRecipeIngredientUnit">
            <option value="piece">piece</option>
            <option value="milliliters">milliliters</option>
            <option value="liters">liters</option>
            <option value="ounces">ounces</option>
            <option value="cups">cups</option>
            <option value="grams">grams</option>
            <option value="pounds">pounds</option>
            <option value="kilograms">kilograms</option>
            <option value="tablespoons">tablespoons</option>
            <option value="teaspoons">teaspoons</option>
        </select> <br><br>

        <button type="submit"> Create Recipe Ingredient </button> <br>
    </form>
    <div id="insertRecipeIngredientResultMsg"></div>

    <br><hr><br> <!-- ========================================================================= -->
    <h2> Ingredient Centric </h2>




    <br><hr><br> <!-- ========================================================================= -->
    
    <!-- ===================================================================================== -->
    <!-- External JavaScript file that contains the functionality/logic for the operations above. -->
    <script src="scripts.js"></script>
</body>
</html>
